<!DOCTYPE html>
<html lang="fr" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‚ÑπÔ∏è √Ä propos - Mangeoire Connect√©e</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Inter:wght@300;400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/assets/css/style.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <a href="/" class="nav-logo">
                <span class="logo-icon">üåø</span>
                <span class="logo-text">Mangeoire Connect√©e</span>
            </a>
            <ul class="nav-menu">
                <li><a href="/" class="nav-link">Accueil</a></li>
                <li><a href="/galerie" class="nav-link">Galerie</a></li>
                <li><a href="/stats" class="nav-link">Statistiques</a></li>
                <li><a href="/about" class="nav-link active">√Ä propos</a></li>
            </ul>
            <button class="theme-toggle" id="themeToggle" aria-label="Changer de th√®me">
                <span class="theme-icon">üåô</span>
            </button>
            <button class="nav-toggle" id="navToggle" aria-label="Menu">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
    </nav>

    <!-- Page Header -->
    <header class="page-header">
        <div class="container">
            <h1 class="page-title">‚ÑπÔ∏è √Ä propos du projet</h1>
            <p class="page-subtitle">D√©couvrez le fonctionnement de la mangeoire connect√©e</p>
        </div>
    </header>

    <!-- Introduction -->
    <section class="about-section">
        <div class="container">
            <div class="about-intro">
                <div class="intro-content">
                    <h2>üê¶ Observez la nature de pr√®s</h2>
                    <p>
                        La <strong>Mangeoire Connect√©e</strong> est un projet DIY bas√© sur un ESP32-S3 
                        √©quip√© d'une cam√©ra OV5640. Elle capture automatiquement des photos 
                        lorsqu'un oiseau est d√©tect√©, uniquement pendant la journ√©e.
                    </p>
                    <p>
                        Les images sont sauvegard√©es localement sur carte SD et envoy√©es 
                        automatiquement vers ce serveur pour une visualisation facile 
                        depuis n'importe quel appareil sur votre r√©seau local.
                    </p>
                </div>
                <div class="intro-image">
                    <div class="project-icon">üè†üê¶</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Composants mat√©riels -->
    <section class="hardware-section">
        <div class="container">
            <h2 class="section-title">üîß Composants utilis√©s</h2>
            <p class="section-subtitle">Le mat√©riel n√©cessaire pour ce projet</p>
            
            <div class="hardware-grid">
                <div class="hardware-card">
                    <div class="hardware-icon">üì∑</div>
                    <h3>ESP32-S3 + Cam√©ra OV5640</h3>
                    <p>Microcontr√¥leur WiFi avec cam√©ra 5MP int√©gr√©e pour capturer des images haute qualit√©.</p>
                    <ul class="specs-list">
                        <li>üì∂ WiFi 2.4GHz int√©gr√©</li>
                        <li>üñºÔ∏è R√©solution VGA (640x480)</li>
                        <li>‚ö° Format JPEG compress√©</li>
                        <li>üíæ Double c≈ìur 240MHz</li>
                    </ul>
                </div>
                
                <div class="hardware-card">
                    <div class="hardware-icon">üëÅÔ∏è</div>
                    <h3>Capteur PIR HC-SR501</h3>
                    <p>D√©tecteur de mouvement infrarouge passif pour d√©tecter la pr√©sence d'oiseaux.</p>
                    <ul class="specs-list">
                        <li>üìè Port√©e : 3-7 m√®tres</li>
                        <li>üìê Angle : 120¬∞</li>
                        <li>‚è±Ô∏è D√©lai ajustable</li>
                        <li>üîå GPIO 14</li>
                    </ul>
                </div>
                
                <div class="hardware-card">
                    <div class="hardware-icon">‚òÄÔ∏è</div>
                    <h3>Capteur de lumi√®re LM393</h3>
                    <p>Photor√©sistance pour d√©tecter le niveau de luminosit√© et √©viter les photos de nuit.</p>
                    <ul class="specs-list">
                        <li>üåô 0 = Nuit (pas de photo)</li>
                        <li>‚òÄÔ∏è 1 = Jour (photo OK)</li>
                        <li>‚öôÔ∏è Seuil ajustable</li>
                        <li>üîå GPIO 21</li>
                    </ul>
                </div>
                
                <div class="hardware-card">
                    <div class="hardware-icon">üíæ</div>
                    <h3>Carte SD</h3>
                    <p>Stockage local des photos en backup, au cas o√π le WiFi serait indisponible.</p>
                    <ul class="specs-list">
                        <li>üìÅ Format FAT32</li>
                        <li>üîÑ Mode SD_MMC</li>
                        <li>üíΩ Sauvegarde automatique</li>
                        <li>üìù Nommage horodat√©</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- C√¢blage -->
    <section class="wiring-section">
        <div class="container">
            <h2 class="section-title">üîå C√¢blage</h2>
            <p class="section-subtitle">Connexions des capteurs √† l'ESP32-S3</p>
            
            <div class="wiring-diagram">
                <div class="wiring-box">
                    <h3>ESP32-S3 - Connexions</h3>
                    <div class="pin-list">
                        <div class="pin-item">
                            <span class="pin-name">GPIO 14</span>
                            <span class="pin-arrow">‚Üí</span>
                            <span class="pin-dest">PIR OUT (d√©tection mouvement)</span>
                        </div>
                        <div class="pin-item">
                            <span class="pin-name">GPIO 21</span>
                            <span class="pin-arrow">‚Üí</span>
                            <span class="pin-dest">LM393 DO (luminosit√©)</span>
                        </div>
                        <div class="pin-item">
                            <span class="pin-name">3.3V</span>
                            <span class="pin-arrow">‚Üí</span>
                            <span class="pin-dest">VCC capteurs</span>
                        </div>
                        <div class="pin-item">
                            <span class="pin-name">GND</span>
                            <span class="pin-arrow">‚Üí</span>
                            <span class="pin-dest">GND capteurs</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="code-block">
                <h4>üìã Configuration des broches (extrait du code)</h4>
                <pre><code>// Capteurs
#define LM393_PIN 21  // Lumi√®re: 0=nuit, 1=jour
#define PIR_PIN   14  // PIR: HIGH=mouvement

// Cam√©ra OV5640
#define XCLK_GPIO_NUM   15
#define SIOD_GPIO_NUM    4
#define SIOC_GPIO_NUM    5
// ... autres broches cam√©ra</code></pre>
            </div>
        </div>
    </section>

    <!-- Fonctionnement -->
    <section class="workflow-section">
        <div class="container">
            <h2 class="section-title">‚öôÔ∏è Comment √ßa marche</h2>
            <p class="section-subtitle">Le cycle de fonctionnement automatique</p>
            
            <div class="workflow-timeline">
                <div class="workflow-step">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <h3>üëÅÔ∏è D√©tection de mouvement</h3>
                        <p>Le capteur PIR surveille en permanence. Quand un mouvement est d√©tect√© (oiseau qui arrive), il envoie un signal HIGH.</p>
                    </div>
                </div>
                
                <div class="workflow-step">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <h3>‚òÄÔ∏è V√©rification de la lumi√®re</h3>
                        <p>Le capteur LM393 v√©rifie s'il fait jour. Si c'est la nuit (signal = 0), aucune photo n'est prise pour √©conomiser l'√©nergie.</p>
                    </div>
                </div>
                
                <div class="workflow-step">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <h3>üì∏ Capture de la photo</h3>
                        <p>La cam√©ra OV5640 capture une image en r√©solution VGA (640x480) au format JPEG compress√©.</p>
                    </div>
                </div>
                
                <div class="workflow-step">
                    <div class="step-number">4</div>
                    <div class="step-content">
                        <h3>üíæ Sauvegarde locale</h3>
                        <p>L'image est d'abord sauvegard√©e sur la carte SD avec un nom horodat√© (photo_timestamp.jpg) comme backup.</p>
                    </div>
                </div>
                
                <div class="workflow-step">
                    <div class="step-number">5</div>
                    <div class="step-content">
                        <h3>üì° Envoi au serveur</h3>
                        <p>Si le WiFi est connect√©, l'image est envoy√©e en HTTP POST vers le serveur Flask pour stockage et visualisation.</p>
                    </div>
                </div>
                
                <div class="workflow-step">
                    <div class="step-number">6</div>
                    <div class="step-content">
                        <h3>‚è≥ D√©lai anti-spam</h3>
                        <p>Un d√©lai de 15 secondes est appliqu√© entre chaque capture pour √©viter les photos en rafale inutiles.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Serveur -->
    <section class="server-section">
        <div class="container">
            <h2 class="section-title">üñ•Ô∏è Serveur Flask</h2>
            <p class="section-subtitle">L'interface web s√©curis√©e</p>
            
            <div class="server-info">
                <div class="server-card">
                    <h3>üîí S√©curit√©</h3>
                    <p>Acc√®s restreint au r√©seau local uniquement. Rate limiting pour √©viter les abus.</p>
                </div>
                <div class="server-card">
                    <h3>üìÅ Stockage</h3>
                    <p>Images organis√©es par date dans le dossier /uploads. Format JPEG valid√©.</p>
                </div>
                <div class="server-card">
                    <h3>üìä Statistiques</h3>
                    <p>Graphiques d'activit√©, pics horaires, et historique des captures.</p>
                </div>
            </div>
            
            <div class="api-endpoints">
                <h3>üîó Points d'acc√®s API</h3>
                <table class="api-table">
                    <thead>
                        <tr>
                            <th>M√©thode</th>
                            <th>Endpoint</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><span class="method post">POST</span></td>
                            <td>/upload</td>
                            <td>R√©ception des photos ESP32</td>
                        </tr>
                        <tr>
                            <td><span class="method get">GET</span></td>
                            <td>/api/images</td>
                            <td>Liste des images par date</td>
                        </tr>
                        <tr>
                            <td><span class="method get">GET</span></td>
                            <td>/api/stats</td>
                            <td>Statistiques globales</td>
                        </tr>
                        <tr>
                            <td><span class="method get">GET</span></td>
                            <td>/api/events</td>
                            <td>Historique des √©v√©nements</td>
                        </tr>
                        <tr>
                            <td><span class="method delete">DELETE</span></td>
                            <td>/api/delete/:path</td>
                            <td>Suppression d'une image</td>
                        </tr>
                        <tr>
                            <td><span class="method post">POST</span></td>
                            <td>/api/cleanup</td>
                            <td>Nettoyage des anciennes photos</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </section>

    <!-- Configuration -->
    <section class="about-section">
        <div class="container">
            <h2 class="section-title">‚ö° Configuration rapide</h2>
            <p class="section-subtitle">Les param√®tres √† modifier dans le code ESP32</p>
            
            <div class="code-block">
                <h4>üìù Param√®tres WiFi et serveur</h4>
                <pre><code>// WiFi - √Ä adapter √† votre r√©seau
const char* ssid = "Votre-WiFi";
const char* password = "VotreMotDePasse";

// Serveur - IP de votre PC
const char* serverUrl = "http://192.168.1.XXX:5000/upload";

// D√©lai entre captures (ms)
const unsigned long delayAfterMotion = 15000; // 15s</code></pre>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-brand">
                    <span class="logo-icon">üåø</span>
                    <span>Mangeoire Connect√©e ESP32-S3</span>
                </div>
                <div class="footer-links">
                    <a href="/">Accueil</a>
                    <a href="/galerie">Galerie</a>
                    <a href="/stats">Statistiques</a>
                </div>
                <div class="footer-status">
                    <span class="status-dot" id="serverStatus"></span>
                    <span id="serverStatusText">V√©rification...</span>
                </div>
            </div>
            <div class="footer-bottom">
                <p>Projet DIY - ESP32-S3 + OV5640 + Flask</p>
            </div>
        </div>
    </footer>

    <script src="/assets/js/app.js"></script>
</body>
</html>
